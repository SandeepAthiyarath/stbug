use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1265588394',
        'name' => 'search/form.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
#line 23 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('global/field-descs.none.tmpl');
    $output .=  "\n\n<script type=\"text/javascript\">\n\nvar first_load = true;         ";
    $output .=  "\nvar last_sel = new Array();    ";
    $output .=  "\n";
#line 35 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useclassification' ]])) {
    $output .=  "\nvar useclassification = true;\nvar prods = new Array();";
    }
    else {
    $output .=  "\nvar useclassification = false;";
    }
    
    $output .=  "\nvar cpts = new Array();\nvar vers = new Array();";
#line 40 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usetargetmilestone' ]])) {
    $output .=  "\nvar tms = new Array();";
    }
    
    $output .=  "\n\n";
    $output .=  "\n";
#line 44 "template/en/default/search/form.html.tmpl"
    $stash->set('nclass', 0);
#line 55 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('classification');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'c'} = $_tt_value;
    $output .=  "\n  prods[";
#line 46 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('nclass');
        
        &$_tt_filter($output);
    };
    
    $output .=  "] = [";
#line 47 "template/en/default/search/form.html.tmpl"
    $stash->set('sep', '');
#line 53 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['user', 0, 'get_selectable_products', [ $stash->get(['c', 0, 'id', 0]) ]]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'item'} = $_tt_value;
#line 52 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['item', 0, 'components', 0, 'size', 0])) {
#line 50 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('sep');
        
        &$_tt_filter($output);
    };
    
    $output .=  "'";
#line 50 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'";
#line 51 "template/en/default/search/form.html.tmpl"
    $stash->set('sep', ',');
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  " ];";
#line 54 "template/en/default/search/form.html.tmpl"
    $stash->set('nclass', $stash->get('nclass') + 1);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n\n";
    $output .=  "\n";
#line 60 "template/en/default/search/form.html.tmpl"
    $stash->set('n', 0);
#line 75 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('product');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'p'} = $_tt_value;
#line 62 "template/en/default/search/form.html.tmpl"
    if (! $stash->get(['p', 0, 'components', 0, 'size', 0])) {
    ($_tt_value, $_tt_error) = $_tt_list->get_next();
    next FOR1;
    
    }
    
#line 65 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useclassification' ]])) {
    $output .=  "\n  prods['";
#line 64 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['p', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'] = ";
#line 64 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    }
    
    $output .=  "\n  cpts[";
#line 66 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "] = [";
#line 67 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['p', 0, 'components', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'item'} = $_tt_value;
    $output .=  "'";
#line 67 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'";
#line 67 "template/en/default/search/form.html.tmpl"
    if (!($stash->get(['loop', 0, 'last', 0]))) {
    $output .=  ', ';
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  " ];\n  vers[";
#line 68 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "] = [";
#line 69 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['p', 0, 'versions', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'item'} = $_tt_value;
    $output .=  "'";
#line 69 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'";
#line 69 "template/en/default/search/form.html.tmpl"
    if (!($stash->get(['loop', 0, 'last', 0]))) {
    $output .=  ', ';
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  " ];";
#line 73 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usetargetmilestone' ]])) {
    $output .=  "\n  tms[";
#line 71 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "]  = [";
#line 72 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['p', 0, 'milestones', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'item'} = $_tt_value;
    $output .=  "'";
#line 72 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('js')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['item', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "'";
#line 72 "template/en/default/search/form.html.tmpl"
    if (!($stash->get(['loop', 0, 'last', 0]))) {
    $output .=  ', ';
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  " ];";
    }
    
#line 74 "template/en/default/search/form.html.tmpl"
    $stash->set('n', $stash->get('n') + 1);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n\n/*\n * doOnSelectProduct determines which selection should get updated \n *\n * - selectmode = 0  - init\n *   selectmode = 1  - classification selected\n *   selectmode = 2  - product selected\n *\n * globals:\n *   queryform - string holding the name of the selection form\n */\nfunction doOnSelectProduct(selectmode) {\n    var f = document.forms[queryform];\n    var milestone = (typeof(f.target_milestone) == \"undefined\" ? \n                                               null : f.target_milestone);\n    if (selectmode == 0) {\n        // If there is no classification selected, give us a chance to fill\n        // the select fields with values from the possibly selected product.\n        if (useclassification && f.classification.selectedIndex > -1) {\n            selectClassification(f.classification, f.product, f.component, f.version, milestone);\n        } else {\n            selectProduct(f.product, f.component, f.version, milestone, null);\n        }\n    } else if (selectmode == 1) {\n        selectClassification(f.classification, f.product, f.component, f.version, milestone);\n    } else {\n        selectProduct(f.product, f.component, f.version, milestone, null);\n    }\n}\n\n</script>\n";
#line 108 "template/en/default/search/form.html.tmpl"
    $stash->set('query_types', [ 'allwordssubstr', 'anywordssubstr', 'substring', 'casesubstring', 'allwords', 'anywords', 'regexp', 'notregexp' ]);
    $output .=  "\n\n";
#line 120 "template/en/default/search/form.html.tmpl"
    $stash->set('thisformat', $stash->get('query_format') ne '' ? $stash->get('query_format') : $stash->get('format'));
    $output .=  "\n<input type=\"hidden\" name=\"query_format\" value=\"";
#line 121 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('thisformat');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n\n";
    $output .=  "\n\n<table>\n  <tr>\n    <th align=\"right\">\n      <label for=\"short_desc\" accesskey=\"s\"><u>S</u>ummary</label>:\n    </th>\n    <td>";
#line 131 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/type-select.html.tmpl', { 'name' => 'short_desc_type', 'types' => $stash->get('query_types'), 'selected' => $stash->get(['default', 0, 'short_desc_type', 0, 0, 0]) });
    $output .=  "\n    </td>\n    <td>\n      <input name=\"short_desc\" id=\"short_desc\" size=\"40\"\n             value=\"";
#line 137 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'short_desc', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n      <script type=\"text/javascript\"> <!--\n          document.forms[queryform].short_desc.focus(); \n      // -->\n      </script>\n    </td>\n    <td>";
#line 147 "template/en/default/search/form.html.tmpl"
    if ($stash->get('button_name')) {
    $output .=  "\n        <input type=\"submit\" id=\"";
#line 145 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('css_class_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('button_name');
        
        &$_tt_filter($output);
    };
    
    $output .=  "_top\"\n               value=\"";
#line 146 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('button_name');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
    }
    
    $output .=  "\n    </td>\n  </tr>\n\n";
    $output .=  "\n  <tr>\n    <td colspan=\"4\">\n      <table>\n        <tr>";
#line 156 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_selects_top' ]]);
#line 180 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useclassification' ]])) {
    $output .=  "\n          <td valign=\"top\">\n            <table>\n              <tr valign=\"bottom\">\n                <th align=\"left\">\n                  <label for=\"classification\">Classification</label>:\n                </th>\n              </tr>\n              <tr valign=\"top\">\n                <td align=\"left\">\n                  <select name=\"classification\" multiple=\"multiple\" size=\"5\" id=\"classification\"\n                          onchange=\"doOnSelectProduct(1);\">";
#line 174 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('classification');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'cat'} = $_tt_value;
    $output .=  "\n                      <option value=\"";
#line 170 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['cat', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 171 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['lsearch', [ $stash->get(['default', 0, 'classification', 0]), $stash->get(['cat', 0, 'name', 0]) ]]) ne -1) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 172 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['cat', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n                      </option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n                  </select>\n                </td>\n              </tr>\n            </table>\n          </td>";
    }
    
    $output .=  "\n          <td valign=\"top\">\n            <table>\n              <tr valign=\"bottom\">\n                <th align=\"left\">\n                  <label for=\"product\" accesskey=\"p\"><u>P</u>roduct</label>:\n                </th>\n              </tr>\n              <tr valign=\"top\">\n                ";
    $output .=  "\n                <td align=\"left\">\n                  <select name=\"product\" multiple=\"multiple\" size=\"5\" id=\"product\"\n                          onchange=\"doOnSelectProduct(2);\">";
#line 199 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('product');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'p'} = $_tt_value;
#line 198 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['p', 0, 'components', 0, 'size', 0])) {
    $output .=  "\n                      <option value=\"";
#line 195 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['p', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 196 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['lsearch', [ $stash->get(['default', 0, 'product', 0]), $stash->get(['p', 0, 'name', 0]) ]]) ne -1) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 197 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['p', 0, 'name', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</option>";
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n                  </select>\n                </td>\n              </tr>\n            </table>\n          </td>\n          <td valign=\"top\">\n            <table>\n              <tr valign=\"bottom\">\n                <th align=\"left\">\n                  <label for=\"component\" accesskey=\"m\"><a href=\"describecomponents.cgi\">Co<u>m</u>ponent</a></label>:\n                </th>\n              </tr>\n              <tr valign=\"top\">\n                ";
    $output .=  "\n                <td align=\"left\">\n                  <select name=\"component\" id=\"component\"\n                          multiple=\"multiple\" size=\"5\">";
#line 222 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('component_');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'c'} = $_tt_value;
    $output .=  "\n                      <option value=\"";
#line 219 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('c');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 220 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['lsearch', [ $stash->get(['default', 0, 'component', 0]), $stash->get('c') ]]) ne -1) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 221 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('c');
        
        &$_tt_filter($output);
    };
    
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n                  </select>\n                </td>\n              </tr>\n            </table>\n          </td>\n          <td valign=\"top\">\n            <table>\n              <tr valign=\"bottom\">\n                <th align=\"left\">\n                  <label for=\"version\">Version</label>:\n                </th>\n              </tr>\n              <tr valign=\"top\">";
#line 236 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'version', 'size' => 5  } });
    $output .=  "\n              </tr>\n            </table>\n          </td>";
#line 255 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usetargetmilestone' ]])) {
    $output .=  "\n          <td valign=\"top\">\n            <table>\n              <tr valign=\"bottom\">\n                <th align=\"left\">\n                  <label for=\"target_milestone\">Target</label>:\n                </th>\n              </tr>\n              <tr valign=\"top\">";
#line 250 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'target_milestone', 'size' => 5  } });
    $output .=  "\n              </tr>\n            </table>\n          </td>";
    }
    
#line 256 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_selects_top' ]]);
    $output .=  "\n        </tr>\n      </table>\n    </td>\n  </tr>\n\n";
    $output .=  "\n";
#line 264 "template/en/default/search/form.html.tmpl"
    $stash->set('freetext_fields', [ { 'name' => 'longdesc', 'description' => 'A&nbsp;<u>C</u>omment', 'accesskey' => 'c'  }, { 'name' => 'bug_file_loc', 'description' => 'The&nbsp;<u>U</u>RL', 'accesskey' => 'u'  }, { 'name' => 'status_whiteboard', 'description' => '<u>W</u>hiteboard', 'accesskey' => 'w'  } ]);
    $output .=  "\n";
#line 273 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_freetext_fields' ]]);
#line 294 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('freetext_fields');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field'} = $_tt_value;
#line 275 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['field', 0, 'name', 0]) eq 'status_whiteboard' && ! $stash->get(['Param', [ 'usestatuswhiteboard' ]])) {
    ($_tt_value, $_tt_error) = $_tt_list->get_next();
    next FOR1;
    
    }
    
    $output .=  "\n    <tr>\n      <th align=\"right\">\n        <label for=\"";
#line 280 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['field', 0, 'name', 0]);
    $output .=  "\" \n               accesskey=\"";
#line 281 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['field', 0, 'accesskey', 0]);
    $output .=  "\">";
#line 281 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['field', 0, 'description', 0]);
    $output .=  "</label>:\n      </th>\n      <td>";
#line 284 "template/en/default/search/form.html.tmpl"
    $stash->set('type', $stash->get(['field', 0, 'name', 0])  . '_type');
#line 285 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/type-select.html.tmpl', { 'name' => $stash->get('type'), 'types' => $stash->get('query_types'), 'selected' => $stash->get(['default', 0, $stash->get('type'), 0, 0, 0]) });
    $output .=  "\n      </td>\n      <td><input name=\"";
#line 289 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['field', 0, 'name', 0]);
    $output .=  "\" id=\"";
#line 289 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['field', 0, 'name', 0]);
    $output .=  "\" size=\"40\"\n                 value=\"";
#line 290 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, $stash->get(['field', 0, 'name', 0]), 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n      </td>\n      <td></td>\n    </tr>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n";
#line 312 "template/en/default/search/form.html.tmpl"
    if ($stash->get('use_keywords')) {
    $output .=  "\n    <tr>\n      <th align=\"right\">\n        <label for=\"keywords\" accesskey=\"k\"><a href=\"describekeywords.cgi\"><u>K</u>eywords</a></label>:\n      </th>\n      <td>";
#line 302 "template/en/default/search/form.html.tmpl"
    $output .=  $context->include('search/type-select.html.tmpl', { 'name' => 'keywords_type', 'types' => [ 'allwords', 'anywords', 'nowords', 'regexp', 'notregexp' ], 'selected' => $stash->get(['default', 0, 'keywords_type', 0, 0, 0]) });
    $output .=  "\n      </td>\n      <td>\n        <input name=\"keywords\" id=\"keywords\" size=\"40\"\n               value=\"";
#line 309 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'keywords', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n      </td>\n    </tr>";
    }
    
    $output .=  "\n\n  ";
#line 330 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['user', 0, 'is_timetracker', 0])) {
    $output .=  "\n    <tr>\n      <th align=\"right\">\n        <label for=\"deadlinefrom\" accesskey=\"l\">Dead<u>l</u>ine</label>:\n      </th>\n      <td>\n        from <input name=\"deadlinefrom\" id=\"deadlinefrom\" size=\"10\" maxlength=\"10\"\n                    value=\"";
#line 322 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'deadlinefrom', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n        to <input name=\"deadlineto\" size=\"10\" maxlength=\"10\"\n                  value=\"";
#line 324 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'deadlineto', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n      </td>\n      <td>\n        <small>(YYYY-MM-DD or relative dates)</small>\n      </td>\n    </tr>";
    }
    
    $output .=  "\n";
#line 332 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_freetext_fields' ]]);
    $output .=  "\n  \n</table>\n\n<hr>\n\n";
    $output .=  "\n\n<table>\n  <tr>";
#line 342 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'before_selects_bottom' ]]);
    $output .=  "\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"bug_status\" accesskey=\"a\">St<u>a</u>tus</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 351 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'bug_status', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"resolution\" accesskey=\"r\"><u>R</u>esolution</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 364 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'resolution', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"bug_severity\">Severity</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 377 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'bug_severity', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"priority\" accesskey=\"i\">Pr<u>i</u>ority</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 390 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'priority', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"rep_platform\" accesskey=\"h\"><u>H</u>ardware</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 403 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'rep_platform', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>\n    <td>\n      <table>\n        <tr>\n          <th align=\"left\">\n            <label for=\"op_sys\" accesskey=\"o\"><u>O</u>S</label>:\n          </th>\n        </tr>\n        <tr valign=\"top\">";
#line 416 "template/en/default/search/form.html.tmpl"
    $output .=  $context->process('select', { 'sel' => { 'name' => 'op_sys', 'size' => 7  } });
    $output .=  "\n        </tr>\n      </table>\n    </td>";
#line 421 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'after_selects_bottom' ]]);
    $output .=  "\n  </tr>\n</table>\n\n";
    $output .=  "\n\n<table>\n  <tr>\n    <td>\n      <fieldset>\n        <legend>\n          <strong>";
#line 437 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usevotes' ]])) {
    $output .=  "\n              Email Addresses, ";
#line 434 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " Numbers, and Votes";
    }
    else {
    $output .=  "\n              Email Addresses and ";
#line 436 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " Numbers";
    }
    
    $output .=  "\n          </strong>\n        </legend>\n\n\n<table>\n  <tr>";
#line 531 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = [ 1, 2 ];
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'n'} = $_tt_value;
    $output .=  "\n    <td>\n\n\n<table cellspacing=\"0\" cellpadding=\"0\">\n  <tr>\n    <td>\n      Any of:\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <input type=\"checkbox\" name=\"emailassigned_to";
#line 456 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\"\n             id=\"emailassigned_to";
#line 457 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" value=\"1\"";
#line 458 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailassigned_to', 0, $stash->get('n'), 0])) {
    $output .=  ' checked';
    }
    
    $output .=  ">\n      <label for=\"emailassigned_to";
#line 459 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">\n        the ";
#line 460 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'bug', 0]);
    $output .=  " assignee\n      </label>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <input type=\"checkbox\" name=\"emailreporter";
#line 466 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\"\n             id=\"emailreporter";
#line 467 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" value=\"1\"";
#line 468 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailreporter', 0, $stash->get('n'), 0])) {
    $output .=  ' checked';
    }
    
    $output .=  ">\n      <label for=\"emailreporter";
#line 469 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">\n        the reporter\n      </label>\n    </td>\n  </tr>";
#line 485 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'useqacontact' ]])) {
    $output .=  "\n  <tr>\n    <td>\n      <input type=\"checkbox\" name=\"emailqa_contact";
#line 477 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\"\n             id=\"emailqa_contact";
#line 478 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" value=\"1\"";
#line 479 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailqa_contact', 0, $stash->get('n'), 0])) {
    $output .=  ' checked';
    }
    
    $output .=  ">\n      <label for=\"emailqa_contact";
#line 480 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">\n        the QA contact\n      </label>\n    </td>\n  </tr>";
    }
    
    $output .=  "\n  <tr>\n    <td>\n      <input type=\"checkbox\" name=\"emailcc";
#line 488 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\"\n             id=\"emailcc";
#line 489 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" value=\"1\"";
#line 490 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailcc', 0, $stash->get('n'), 0])) {
    $output .=  ' checked';
    }
    
    $output .=  ">\n      <label for=\"emailcc";
#line 491 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">\n        a CC list member\n      </label>\n    </td>\n  </tr>\n  <tr>\n    <td>\n        <input type=\"checkbox\" name=\"emaillongdesc";
#line 498 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\"\n               id=\"emaillongdesc";
#line 499 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" value=\"1\"";
#line 500 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emaillongdesc', 0, $stash->get('n'), 0])) {
    $output .=  ' checked';
    }
    
    $output .=  ">\n      <label for=\"emaillongdesc";
#line 501 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">\n        a commenter\n      </label>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <select name=\"emailtype";
#line 508 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\">";
#line 518 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = [ { 'name' => 'substring', 'description' => 'contains'  }, { 'name' => 'exact', 'description' => 'is'  }, { 'name' => 'notequals', 'description' => 'is not'  }, { 'name' => 'regexp', 'description' => 'matches regexp'  }, { 'name' => 'notregexp', 'description' => 'doesn\'t match regexp'  } ];
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR2:   while (! $_tt_error) {
                $stash->{'qv'} = $_tt_value;
    $output .=  "\n\n        <option value=\"";
#line 516 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['qv', 0, 'name', 0]);
    $output .=  "\"";
#line 517 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'emailtype', 0, $stash->get('n'), 0]) eq $stash->get(['qv', 0, 'name', 0])) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 517 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['qv', 0, 'description', 0]);
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n      </select>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <input name=\"email";
#line 524 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get('n');
    $output .=  "\" size=\"25\" value=\"";
#line 524 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'email', 0, $stash->get('n'), 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n    </td>\n  </tr>\n</table>\n\n\n    </td>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n  </tr>\n</table>\n<hr>\n<table>\n  <tr>\n    <td>\n      <select name=\"bug_id_type\">\n        <option value=\"anyexact\"";
#line 539 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'bug_id_type', 0, 0, 0]) eq 'anyexact') {
    $output .=  ' selected';
    }
    
    $output .=  ">Only include</option>\n        <option value=\"nowords\"";
#line 540 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['default', 0, 'bug_id_type', 0, 0, 0]) eq 'nowords') {
    $output .=  ' selected';
    }
    
    $output .=  ">Exclude</option>\n      </select>\n      <label for=\"bug_id\">";
#line 542 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'bugs', 0]);
    $output .=  " numbered</label>:\n    </td>\n    <td>\n      <input type=\"text\" name=\"bug_id\" id=\"bug_id\"\n             value=\"";
#line 546 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'bug_id', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=\"20\">\n    </td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>(comma-separated list)</td>\n  </tr>";
#line 564 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['Param', [ 'usevotes' ]])) {
    $output .=  "\n    <tr>\n      <td align=\"right\">\n        <label for=\"votes\">Only ";
#line 556 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'bugs', 0]);
    $output .=  " with at least</label>:\n      </td>\n      <td>\n        <input name=\"votes\" id=\"votes\" size=\"3\"\n               value=\"";
#line 560 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'votes', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n        votes\n      </td>\n    </tr>";
    }
    
    $output .=  "\n</table>\n\n\n      </fieldset>\n    </td>\n   \n";
    $output .=  "\n\n    <td valign=\"top\">\n      <fieldset>\n        <legend><strong>";
#line 575 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " Changes</strong></legend>\n\n\n<dl class=\"bug_changes\">\n  <dt>\n    <label for=\"chfieldfrom\">Only ";
#line 580 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'bugs', 0]);
    $output .=  " changed between</label>:\n  </dt>\n  <dd>\n    <input name=\"chfieldfrom\" id=\"chfieldfrom\"\n           size=\"10\" value=\"";
#line 584 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldfrom', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n    and <input name=\"chfieldto\" size=\"10\" value=\"";
#line 585 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldto', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n    <br>(YYYY-MM-DD or relative dates)\n  </dd>\n  <dt>\n    <label for=\"chfield\">where one or more of the following changed</label>:\n  </dt>\n  <dd>\n    ";
#line 593 "template/en/default/search/form.html.tmpl"
    $stash->set('chfields', [ ]);
#line 596 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('chfield');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field'} = $_tt_value;
#line 595 "template/en/default/search/form.html.tmpl"
    $output .=  $stash->get(['chfields', 0, 'push', [ { 'value' => $stash->get('field'), 'desc' => ($stash->get(['field_descs', 0, $stash->get('field'), 0]) || $stash->get('field'))  } ]]);;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n\n    <select name=\"chfield\" id=\"chfield\" multiple=\"multiple\" size=\"4\">";
#line 603 "template/en/default/search/form.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['chfields', 0, 'sort', [ 'desc' ]]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'field'} = $_tt_value;
    $output .=  "\n      <option value=\"";
#line 600 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'value', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\"";
#line 601 "template/en/default/search/form.html.tmpl"
    if ($stash->get(['lsearch', [ $stash->get(['default', 0, 'chfield', 0]), $stash->get(['field', 0, 'value', 0]) ]]) ne -1) {
    $output .=  ' selected';
    }
    
    $output .=  ">";
#line 602 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['field', 0, 'desc', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n    </select>\n  </dd>\n  <dt>and <label for=\"chfieldvalue\">the new value was</label>:</dt>\n  <dd>\n    <input name=\"chfieldvalue\" id=\"chfieldvalue\"\n           size=\"20\" value=\"";
#line 609 "template/en/default/search/form.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'chfieldvalue', 0, 0, 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n  </dd>\n</dl>\n\n       </fieldset>\n     </td>\n  </tr>\n</table>\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {
        'select' => sub {
            my $context = shift || die "template sub called without context\n";
            my $stash   = $context->stash;
            my $output  = '';
            my $_tt_error;
            
            eval { BLOCK: {
        $output .=  "\n  <td align=\"left\">\n    <select name=\"";
#line 624 "template/en/default/search/form.html.tmpl"
        $output .=  $stash->get(['sel', 0, 'name', 0]);
        $output .=  "\" id=\"";
#line 624 "template/en/default/search/form.html.tmpl"
        $output .=  $stash->get(['sel', 0, 'name', 0]);
        $output .=  "\"\n            multiple=\"multiple\" size=\"";
#line 625 "template/en/default/search/form.html.tmpl"
        $output .=  $stash->get(['sel', 0, 'size', 0]);
        $output .=  "\">";
#line 640 "template/en/default/search/form.html.tmpl"
        
        # FOREACH 
        do {
            my ($_tt_value, $_tt_error, $_tt_oldloop);
            my $_tt_list = $stash->get($stash->get(['sel', 0, 'name', 0]));
            
            unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
                $_tt_list = Template::Config->iterator($_tt_list)
                    || die $Template::Config::ERROR, "\n"; 
            }
        
            ($_tt_value, $_tt_error) = $_tt_list->get_first();
            eval { $_tt_oldloop = $stash->get('loop') };
            $stash->set('loop', $_tt_list);
            eval {
        FOR1:   while (! $_tt_error) {
                    $stash->{'value'} = $_tt_value;
#line 639 "template/en/default/search/form.html.tmpl"
        if ($stash->get(['value', 0, 'id', 0])) {
        $output .=  "\n          ";
#line 629 "template/en/default/search/form.html.tmpl"
        $stash->set('v', $stash->get(['value', 0, 'name', 0]) || '---');
        $output .=  "          <option value=\"";
#line 630 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get('v');
            
            &$_tt_filter($output);
        };
        
        $output .=  "\"";
#line 631 "template/en/default/search/form.html.tmpl"
        if ($stash->get(['lsearch', [ $stash->get(['default', 0, $stash->get(['sel', 0, 'name', 0]), 0]), $stash->get('v') ]]) ne -1) {
        $output .=  ' selected';
        }
        
        $output .=  ">";
#line 632 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['display_value', [ $stash->get(['sel', 0, 'name', 0]), $stash->get(['value', 0, 'name', 0]) ]]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\n          </option>";
        }
        else {
        $output .=  "\n          <option value=\"";
#line 635 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get('value') || '---';
            
            &$_tt_filter($output);
        };
        
        $output .=  "\"";
#line 636 "template/en/default/search/form.html.tmpl"
        if ($stash->get(['lsearch', [ $stash->get(['default', 0, $stash->get(['sel', 0, 'name', 0]), 0]), $stash->get('value') ]]) ne -1) {
        $output .=  ' selected';
        }
        
        $output .=  ">";
#line 637 "template/en/default/search/form.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get(['display_value', [ $stash->get(['sel', 0, 'name', 0]), $stash->get('value') ]]);
            
            &$_tt_filter($output);
        };
        
        $output .=  "\n          </option>";
        }
        ;
                    ($_tt_value, $_tt_error) = $_tt_list->get_next();
                }
            };
            $stash->set('loop', $_tt_oldloop);
            die $@ if $@;
            $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
            die $_tt_error if $_tt_error;
        };
        
        $output .=  "\n    </select>\n  </td>";
            } };
            if ($@) {
                $_tt_error = $context->catch($@, \$output);
                die $_tt_error unless $_tt_error->type eq 'return';
            }
        
            return $output;
        },
    },
});
