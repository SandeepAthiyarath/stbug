use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1274253581',
        'name' => 'attachment/edit.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
#line 22 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->process('global/variables.none.tmpl');
    $output .=  "\n\n";
#line 27 "template/en/custom/attachment/edit.html.tmpl"
    
    # CAPTURE
    $stash->set('title', do {
        my $output = '';
    $output .=  "\n  Attachment ";
#line 26 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  " Details for ";
#line 26 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bug', 0]);
    $output .=  " ";
#line 26 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'bug_id', 0]);
        $output;
    });
    
#line 31 "template/en/custom/attachment/edit.html.tmpl"
    
    # CAPTURE
    $stash->set('header', do {
        my $output = '';
    $output .=  "\n  Attachment ";
#line 29 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  " Details for\n  ";
#line 1 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('bug_link', [ $stash->get(['attachment', 0, 'bug_id', 0]) ])
                  || $context->throw($context->error);
    
    $output .=  ($stash->get(['terms', 0, 'Bug', 0]) . " " . $stash->get(['attachment', 0, 'bug_id', 0]));
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
        $output;
    });
    
#line 32 "template/en/custom/attachment/edit.html.tmpl"
    
    # CAPTURE
    $stash->set('subheader', do {
        my $output = '';
#line 32 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'bug', 0, 'short_desc', 0]);
        
        &$_tt_filter($output);
    };
    
        $output;
    });
    
    $output .=  "\n";
#line 34 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->process('global/header.html.tmpl', { 'title' => $stash->get('title'), 'header' => $stash->get('header'), 'subheader' => $stash->get('subheader'), 'doc_section' => 'attachments.html', 'javascript_urls' => [ 'js/attachment.js' ], 'style_urls' => [ 'skins/standard/create_attachment.css' ] });
    $output .=  "\n\n";
#line 44 "template/en/custom/attachment/edit.html.tmpl"
    $stash->set('use_patchviewer', ($stash->get(['feature_enabled', [ 'patch_viewer' ]]) && $stash->get(['attachment', 0, 'ispatch', 0])));
#line 45 "template/en/custom/attachment/edit.html.tmpl"
    $stash->set('can_edit', $stash->get(['attachment', 0, 'validate_can_edit', 0]));
#line 46 "template/en/custom/attachment/edit.html.tmpl"
    $stash->set('editable_or_hide', $stash->get('can_edit') ? '' : ' bz_hidden_option');
    $output .=  "\n\n<form method=\"post\" action=\"attachment.cgi\" onsubmit=\"normalizeComments();\">\n  <input type=\"hidden\" name=\"id\" value=\"";
#line 49 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\">\n  <input type=\"hidden\" name=\"action\" value=\"update\">\n  <input type=\"hidden\" name=\"contenttypemethod\" value=\"manual\">\n  <input type=\"hidden\" name=\"delta_ts\" value=\"";
#line 52 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'modification_time', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 55 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['user', 0, 'id', 0])) {
    $output .=  "\n    <input type=\"hidden\" name=\"token\" value=\"";
#line 54 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['issue_hash_token', [ [ $stash->get(['attachment', 0, 'id', 0]), $stash->get(['attachment', 0, 'modification_time', 0]) ] ]]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
    }
    
    $output .=  "\n\n  <table class=\"attachment_info\" width=\"100%\">\n\n    <tr>\n      <td id=\"attachment_attributes\">\n        <div id=\"attachment_description\">\n          <label for=\"description\">Description:</label>";
#line 63 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->include('global/textarea.html.tmpl', { 'id' => 'description', 'name' => 'description', 'minrows' => 3, 'cols' => 25, 'wrap' => 'soft', 'classes' => 'block'  . $stash->get('editable_or_hide'), 'defaultcontent' => $stash->get(['attachment', 0, 'description', 0]) });
#line 74 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "\n            ";
#line 73 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('wrap_comment', [ 25 ])
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'description', 0]);
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n        </div>\n";
#line 128 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'isurl', 0])) {
    $output .=  "\n            <input type=\"hidden\" name=\"filename\"\n                   value=\"";
#line 79 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n            <input type=\"hidden\" name=\"contenttypeentry\"\n                   value=\"";
#line 81 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'contenttype', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
    }
    else {
    $output .=  "\n          <div id=\"attachment_filename\">\n            <label for=\"filename\">Filename:</label>\n            <input type=\"text\" size=\"20\"  class=\"block";
#line 85 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get('editable_or_hide');
    $output .=  "\"\n                   id=\"filename\" name=\"filename\"\n                   value=\"";
#line 87 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 90 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "\n              ";
#line 89 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('truncate', [ 25 ])
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'filename', 0]);
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n          </div>\n\n          <div id=\"attachment_mimetype\">\n            <label for=\"contenttypeentry\">MIME Type:</label>\n            <input type=\"text\" size=\"20\" class=\"block";
#line 95 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get('editable_or_hide');
    $output .=  "\"\n                   id=\"contenttypeentry\" name=\"contenttypeentry\"\n                   value=\"";
#line 97 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'contenttype', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 100 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "\n              ";
#line 99 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('truncate', [ 25 ])
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'contenttype', 0]);
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n          </div>\n\n          <div id=\"attachment_size\">\n            <span class=\"label\">Size:</span>";
#line 109 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'datasize', 0])) {
    $output .=  "\n              ";
#line 106 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('unitconvert')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'datasize', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    else {
    $output .=  "\n              <em>deleted</em>";
    }
    
    $output .=  "\n          </div>\n\n          <div id=\"attachment_creator\">\n            <span class=\"label\">Creator:</span>\n            ";
#line 114 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->include('global/user.html.tmpl', { 'who' => $stash->get(['attachment', 0, 'attacher', 0]) });
    $output .=  "\n          </div>\n\n          <div id=\"attachment_ispatch\">\n            <input type=\"checkbox\" id=\"ispatch\" name=\"ispatch\" value=\"1\"\n                   ";
#line 119 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "class=\"bz_hidden_option\"";
    }
    
    $output .=  "\n                   ";
#line 120 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'ispatch', 0])) {
    $output .=  'checked="checked"';
    }
    
    $output .=  ">";
#line 126 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('can_edit')) {
    $output .=  "\n              <label for=\"ispatch\">patch</label>";
    }
    else {
    $output .=  "\n              <span class=\"label\">Is Patch:</span>\n              ";
#line 125 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'ispatch', 0]) ? 'yes' : 'no';
    }
    
    $output .=  "\n          </div>";
    }
    
    $output .=  "\n\n        <div id=\"attachment_isobsolete\">\n          <input type=\"checkbox\" id=\"isobsolete\" name=\"isobsolete\" value=\"1\"\n                 ";
#line 132 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "class=\"bz_hidden_option\"";
    }
    
    $output .=  "\n                 ";
#line 133 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'isobsolete', 0])) {
    $output .=  'checked="checked"';
    }
    
    $output .=  ">";
#line 139 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('can_edit')) {
    $output .=  "\n            <label for=\"isobsolete\">obsolete</label>";
    }
    else {
    $output .=  "\n            <span class=\"label\">Is Obsolete:</span>\n            ";
#line 138 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'isobsolete', 0]) ? 'yes' : 'no';
    }
    
    $output .=  "\n        </div>\n";
#line 156 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['user', 0, 'is_insider', 0])) {
    $output .=  "\n          <div id=\"attachment_isprivate\">\n            <input type=\"checkbox\" id=\"isprivate\" name=\"isprivate\" value=\"1\"\n                   ";
#line 145 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get('can_edit')) {
    $output .=  "class=\"bz_hidden_option\"";
    }
    
    $output .=  "\n                   ";
#line 146 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'isprivate', 0])) {
    $output .=  'checked="checked"';
    }
    
    $output .=  ">";
#line 154 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('can_edit')) {
    $output .=  "\n              <label for=\"isprivate\">private (only visible to\n                <strong>";
#line 149 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['Param', [ 'insidergroup' ]]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</strong>)\n              </label>";
    }
    else {
    $output .=  "\n              <span class=\"label\">Is Private:</span>\n              ";
#line 153 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'isprivate', 0]) ? 'yes' : 'no';
    }
    
    $output .=  "\n          </div>";
    }
    
    $output .=  "\n";
#line 166 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'flag_types', 0, 'size', 0]) > 0) {
    $output .=  "\n          <div id=\"attachment_flags\">";
#line 160 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->process('flag/list.html.tmpl', { 'bug_id' => $stash->get(['attachment', 0, 'bug_id', 0]), 'attach_id' => $stash->get(['attachment', 0, 'id', 0]), 'flag_types' => $stash->get(['attachment', 0, 'flag_types', 0]), 'read_only_flags' => ! $stash->get('can_edit') });
    $output .=  "\n          </div>";
    }
    
    $output .=  "\n";
#line 182 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['user', 0, 'id', 0])) {
    $output .=  "\n          <div id=\"smallCommentFrame\">\n            <label for=\"comment\">Comment (on the ";
#line 170 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'bug', 0]);
    $output .=  "):</label>";
#line 171 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->include('global/textarea.html.tmpl', { 'id' => 'comment', 'name' => 'comment', 'minrows' => 5, 'cols' => 25, 'wrap' => 'soft', 'classes' => 'block' });
    $output .=  "\n          </div>\n\n          <input type=\"submit\" value=\"Submit\" id=\"update\"><br><br>";
    }
    
    $output .=  "\n      </td>\n";
#line 257 "template/en/custom/attachment/edit.html.tmpl"
    if (! $stash->get(['attachment', 0, 'datasize', 0])) {
    $output .=  "\n        <td width=\"75%\"><b>The content of this attachment has been deleted.</b></td>";
    }
    elsif ($stash->get(['attachment', 0, 'isurl', 0])) {
    $output .=  "\n        <td width=\"75%\">\n          <a href=\"";
#line 189 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'data', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 196 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['attachment', 0, 'datasize', 0]) < 120) {
#line 191 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'data', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    else {
#line 193 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('truncate', [ 80 ])
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'data', 0]);
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
    $output .=  "\n              &nbsp;...";
#line 195 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'data', 0, 'match', [ ('' . ".*(.{20})") ], 0, 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    $output .=  "\n          </a>\n        </td>";
    }
    elsif (! $stash->get(['Param', [ 'allow_attachment_display' ]])) {
    $output .=  "\n        <td id=\"view_disabled\" width=\"50%\">\n          <p><b>\n            The attachment is not viewable in your browser due to security\n            restrictions enabled by ";
#line 203 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['terms', 0, 'Bugzilla', 0]);
    $output .=  ".\n          </b></p>\n          <p><b>\n            In order to view the attachment, you first have to\n            <a href=\"attachment.cgi?id=";
#line 207 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\">download it</a>.\n          </b></p>\n        </td>";
    }
    elsif ($stash->get(['attachment', 0, 'is_viewable', 0])) {
    $output .=  "\n        <td width=\"75%\">";
#line 212 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->include('global/textarea.html.tmpl', { 'id' => 'editFrame', 'name' => 'comment', 'style' => 'height: 400px; width: 100%; display: none', 'minrows' => 10, 'cols' => 80, 'wrap' => 'soft', 'defaultcontent' => ($stash->get(['attachment', 0, 'contenttype', 0, 'match', [ '^text\/' ]])) ? $stash->get(['attachment', 0, 'data', 0, 'replace', [ '(.*\n|.+)', '>$1' ]]) : $stash->get('undef') });
    $output .=  "\n          <iframe id=\"viewFrame\" src=\"attachment.cgi?id=";
#line 222 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\" style=\"height: 400px; width: 100%;\">\n            <b>You cannot view the attachment while viewing its details because your browser does not support IFRAMEs.\n            <a href=\"attachment.cgi?id=";
#line 224 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\">View the attachment on a separate page</a>.</b>\n          </iframe>\n          <script type=\"text/javascript\">\n            <!--\n            var patchviewerinstalled = 0;\n            var attachment_id = ";
#line 229 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  ";\n            if (typeof document.getElementById == \"function\") {";
#line 234 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('use_patchviewer')) {
    $output .=  "\n              var patchviewerinstalled = 1;\n              document.write('<iframe id=\"viewDiffFrame\" style=\"height: 400px; width: 100%; display: none;\"><\\/iframe>');";
    }
    
    $output .=  "\n              document.write('<button type=\"button\" id=\"editButton\" onclick=\"editAsComment(patchviewerinstalled);\">Edit Attachment As Comment<\\/button>');\n              document.write('<button type=\"button\" id=\"undoEditButton\" onclick=\"undoEditAsComment(patchviewerinstalled);\" style=\"display: none;\">Undo Edit As Comment<\\/button>');\n              document.write('<button type=\"button\" id=\"redoEditButton\" onclick=\"redoEditAsComment(patchviewerinstalled);\" style=\"display: none;\">Redo Edit As Comment<\\/button>');";
#line 240 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('use_patchviewer')) {
    $output .=  "\n              document.write('<button type=\"button\" id=\"viewDiffButton\" onclick=\"viewDiff(attachment_id, patchviewerinstalled);\">View Attachment As Diff<\\/button>');";
    }
    
    $output .=  "\n              document.write('<button type=\"button\" id=\"viewRawButton\" onclick=\"viewRaw(patchviewerinstalled);\" style=\"display: none;\">View Attachment As Raw<\\/button>');\n            }\n            //-->\n          </script>\n        </td>";
    }
    else {
    $output .=  "\n        <td id=\"noview\" width=\"50%\">\n          <p><b>\n            Attachment is not viewable in your browser because its MIME type \n            (";
#line 250 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['attachment', 0, 'contenttype', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  ") is not one that your browser is \n            able to display.\n          </b></p>\n          <p><b>\n            <a href=\"attachment.cgi?id=";
#line 254 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\">Download the attachment</a>.\n          </b></p>\n        </td>";
    }
    
    $output .=  "\n    </tr>\n  </table>\n</form>\n\n<div id=\"attachment_actions\">\n  <span class=\"label\">Actions:</span>\n  <a href=\"attachment.cgi?id=";
#line 264 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "\">View</a>";
#line 267 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('use_patchviewer')) {
    $output .=  "\n    | <a href=\"attachment.cgi?id=";
#line 266 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "&amp;action=diff\">Diff</a>";
    }
    
#line 272 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get(['Param', [ 'allow_attachment_deletion' ]]) && $stash->get(['user', 0, 'in_group', [ 'admin' ]]) && $stash->get(['attachment', 0, 'datasize', 0]) > 0) {
    $output .=  "\n    | <a href=\"attachment.cgi?id=";
#line 271 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['attachment', 0, 'id', 0]);
    $output .=  "&amp;action=delete\">Delete</a>";
    }
    
    $output .=  "\n</div>\n\n<div id=\"attachment_list\">\n  Attachments on ";
#line 1 "template/en/custom/attachment/edit.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('none')
                  || $context->throw($context->error);
    
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('bug_link', [ $stash->get(['attachment', 0, 'bug_id', 0]) ])
                  || $context->throw($context->error);
    
    $output .=  ($stash->get(['terms', 0, 'bug', 0]) . " " . $stash->get(['attachment', 0, 'bug_id', 0]));
        
        &$_tt_filter($output);
    };
    
        
        &$_tt_filter($output);
    };
    
    $output .=  ":";
#line 284 "template/en/custom/attachment/edit.html.tmpl"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('attachments');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'a'} = $_tt_value;
#line 282 "template/en/custom/attachment/edit.html.tmpl"
    if ($stash->get('a') eq $stash->get(['attachment', 0, 'id', 0])) {
    $output .=  "\n      ";
#line 279 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get('a');
    }
    else {
    $output .=  "\n      <a href=\"attachment.cgi?id=";
#line 281 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get('a');
    $output .=  "&amp;action=edit\">";
#line 281 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get('a');
    $output .=  "</a>";
    }
    
#line 283 "template/en/custom/attachment/edit.html.tmpl"
    if (!($stash->get(['loop', 0, 'last', 0]))) {
    $output .=  ' |';
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n</div>\n";
#line 287 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'end' ]]);
    $output .=  "\n";
#line 289 "template/en/custom/attachment/edit.html.tmpl"
    $output .=  $context->process('global/footer.html.tmpl');
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
