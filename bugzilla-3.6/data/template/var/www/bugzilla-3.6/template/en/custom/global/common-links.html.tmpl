use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.22
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1274253581',
        'name' => 'global/common-links.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "\n";
#line 22 "template/en/custom/global/common-links.html.tmpl"
    $stash->set('qs_suffix', '', 1);
#line 23 "template/en/custom/global/common-links.html.tmpl"
    # USE
    $stash->set('Bugzilla',
                $context->plugin('Bugzilla'));
    $output .=  "\n\n<ul class=\"links\">\n  <li><a href=\"./\">Home</a></li>\n  <li><span class=\"separator\">| </span><a href=\"enter_bug.cgi\">New</a></li>\n  <li><span class=\"separator\">| </span><a href=\"describecomponents.cgi\">Browse</a></li>\n  <li><span class=\"separator\">| </span><a href=\"query.cgi\">Search</a></li>\n\n  <li class=\"form\">\n    <span class=\"separator\">| </span>\n    <form action=\"buglist.cgi\" method=\"get\"\n        onsubmit=\"if (this.quicksearch.value == '')\n                  { alert('Please enter one or more search terms first.');\n                    return false; } return true;\">\n    <input class=\"txt\" type=\"text\" id=\"quicksearch";
#line 37 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('qs_suffix');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" name=\"quicksearch\">\n    <input class=\"btn\" type=\"submit\" value=\"Search\" \n           id=\"find";
#line 39 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('qs_suffix');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
    
    $output .=  "</form>\n  <a href=\"page.cgi?id=quicksearch.html\" title=\"Quicksearch Help\">[?]</a></li>\n\n  <li><span class=\"separator\">| </span><a href=\"report.cgi\">Reports</a></li>\n\n  <li>";
#line 54 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['Param', [ 'shutdownhtml' ]]) || $stash->get(['Bugzilla', 0, 'has_flags', 0])) {
    $output .=  "\n      <span class=\"separator\">| </span>";
#line 53 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['user', 0, 'id', 0])) {
    $output .=  "\n        <a href=\"request.cgi?requester=";
#line 49 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('url_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['user', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "&amp;requestee=";
#line 50 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('url_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['user', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "&amp;do_union=1&amp;group=type&amp;action=queue\">My Requests</a>";
    }
    else {
    $output .=  "\n        <a href=\"request.cgi\">Requests</a>";
    }
    
    }
    
    
    $output .=  "</li>\n";
#line 105 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['user', 0, 'login', 0])) {
    $output .=  "\n    <li><span class=\"separator\">| </span><a href=\"userprefs.cgi\">Preferences</a></li>";
#line 65 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['user', 0, 'in_group', [ 'tweakparams' ]]) || $stash->get(['user', 0, 'in_group', [ 'editusers' ]]) || $stash->get(['user', 0, 'can_bless', 0]) || ($stash->get(['Param', [ 'useclassification' ]]) && $stash->get(['user', 0, 'in_group', [ 'editclassifications' ]])) || $stash->get(['user', 0, 'in_group', [ 'editcomponents' ]]) || $stash->get(['user', 0, 'in_group', [ 'admin' ]]) || $stash->get(['user', 0, 'in_group', [ 'creategroups' ]]) || $stash->get(['user', 0, 'in_group', [ 'editkeywords' ]]) || $stash->get(['user', 0, 'in_group', [ 'bz_canusewhines' ]]) || $stash->get(['user', 0, 'get_products_by_permission', [ 'editcomponents' ], 'size', 0])) {
    $output .=  "\n      <li><span class=\"separator\">| </span><a href=\"admin.cgi\">Administration</a></li>";
    }
    
    $output .=  "\n";
#line 67 "template/en/custom/global/common-links.html.tmpl"
    $output .=  $context->process('link_to_documentation');
    $output .=  "\n\n    <li>\n      <span class=\"separator\">| </span>";
#line 75 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['user', 0, 'authorizer', 0, 'can_logout', 0])) {
    $output .=  "\n        <a href=\"index.cgi?logout=1\">Log&nbsp;out</a>";
    }
    else {
    $output .=  "\n        Logged&nbsp;in&nbsp;as";
    }
    
#line 82 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get('sudoer')) {
    $output .=  "\n        ";
#line 77 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['sudoer', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  " (<b>impersonating\n        ";
#line 78 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['user', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "</b>\n        <a href=\"relogin.cgi?action=end-sudo\">end session</a>)";
    }
    else {
    $output .=  "\n        ";
#line 81 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['user', 0, 'login', 0]);
        
        &$_tt_filter($output);
    };
    
    }
    
    
    $output .=  "</li>";
    }
    else {
    $output .=  "\n  ";
#line 86 "template/en/custom/global/common-links.html.tmpl"
    $output .=  $context->process('link_to_documentation');
    $output .=  "\n    ";
#line 94 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['Param', [ 'createemailregexp' ]]) && $stash->get(['user', 0, 'authorizer', 0, 'user_can_create_account', 0])) {
    $output .=  "\n      <li id=\"new_account_container";
#line 90 "template/en/custom/global/common-links.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('qs_suffix');
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">\n        <span class=\"separator\">| </span>\n        <a href=\"createaccount.cgi\">New&nbsp;Account</a>\n      </li>";
    }
    
    $output .=  "\n\n    ";
#line 104 "template/en/custom/global/common-links.html.tmpl"
    if ($stash->get(['user', 0, 'authorizer', 0, 'can_login', 0]) && ! $stash->get(['Bugzilla', 0, 'page_requires_login', 0])) {
#line 103 "template/en/custom/global/common-links.html.tmpl"
    $output .=  $context->process('account/auth/login-small.html.tmpl');
    }
    
    }
    
    $output .=  "\n</ul>\n";
#line 108 "template/en/custom/global/common-links.html.tmpl"
    $output .=  $stash->get(['Hook', 0, 'process', [ 'link-row' ]]);
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {
        'link_to_documentation' => sub {
            my $context = shift || die "template sub called without context\n";
            my $stash   = $context->stash;
            my $output  = '';
            my $_tt_error;
            
            eval { BLOCK: {
#line 115 "template/en/custom/global/common-links.html.tmpl"
        if ($stash->get('doc_section') && $stash->get(['Param', [ 'docs_urlbase' ]])) {
        $output .=  "\n      <li>\n        <span class=\"separator\">| </span>\n        <a href=\"";
#line 113 "template/en/custom/global/common-links.html.tmpl"
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $_tt_filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get('docs_urlbase')  . $stash->get('doc_section');
            
            &$_tt_filter($output);
        };
        
        $output .=  "\" target=\"_blank\">Help</a>\n      </li>";
        }
        
            } };
            if ($@) {
                $_tt_error = $context->catch($@, \$output);
                die $_tt_error unless $_tt_error->type eq 'return';
            }
        
            return $output;
        },
    },
});
